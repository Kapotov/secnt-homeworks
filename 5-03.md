# Домашнее задание к занятию "Основные средства защиты от сетевых атак на коммутаторах."

### Цель задания

Данное домашнее задание позволит научиться использовать технологии защиты на L2 коммутаторов от популярных атак. Данные знания очень важны для постороение сетей и прохождения сертификации безопасности PCI-DSS, которую проходят банки.

В результате выполнения задания вы:
1) Научитесь конфигурировать DHCP Snooping. Понимать принципы работы. 
2) Научитесь защищаться от атак по смене IP адреса при помощи IP Source Guard.
3) Научитесь защищать протокол ARP от подмены сетевой информации со стороны злоумышленника.

------

### Инструкция к выполнению домашнего задания

1. Сделайте копию [Шаблона для домашнего задания](https://docs.google.com/document/d/1youKpKm_JrC0UzDyUslIZW2E2bIv5OVlm_TQDvH5Pvs/edit) себе на Google Disk.
2. В названии файла введите корректное название лекции и вашу фамилию и имя.
3. Зайдите в “Настройки доступа” и выберите доступ “Просматривать могут все в Интернете, у кого есть ссылка”.  Ссылка на инструкцию [Как предоставить доступ к файлам и папкам на Google Диске](https://support.google.com/docs/answer/2494822?hl=ru&co=GENIE.Platform%3DDesktop)
4. Скопируйте текст задания в свой документ.
5. Выполните домашнее задание, запишите ответы и приложите необходимые скриншоты в свой Google Doc.
6. Для проверки домашнего задания преподавателем отправьте ссылку на ваш документ в личном кабинете.
7. Любые вопросы по решению задач задавайте в чате учебной группы.

---

### Лабораторная работа "Конфигурация DHCP Snooping и ARP Inspection"

Можете использовать симулятор для построения топологии и проверки/поиска ответов на задания. 

------

### Задание 1. 

На картинке изображена схема офисной сети:
![image](https://user-images.githubusercontent.com/51816695/160147812-5bd15814-762e-4cec-b27e-e8a601f461da.png)

Каким образом необходимо настроить все 4 свитча, чтобы в сети корректно работал только один DHCP сервер - маршрутизатор R1.
Очень важна корректная конфигурация портов на всех свитчах.

*Перечислите список свитчей и список команд, которые необходимо выполнить.*
# Ответ 
```
Для того, чтобы в сети корректно работал только один DHCP сервер – маршрутизатор R1, необходимо использовать механизм DHCP snooping на всех четырех свитчах SW1, SW2, SW3 и SW4. Ниже приведен пример списка команд для настройки DHCP snooping на каждом свитче. Команды предполагают, что интерфейс, подключенный к DHCP серверу (R1), является доверенным, а остальные интерфейсы – недоверенными.

Для SW1 команды могут выглядеть следующим образом:


conf t
ip dhcp snooping
ip dhcp snooping vlan 1
interface Gi1/0
ip dhcp snooping trust
interface Gi0/1
ip dhcp snooping limit rate 10


Такой же набор команд необходимо выполнить и для других свитчей, но с учетом используемых интерфейсов. Например, для SW2 это будет:


conf t
ip dhcp snooping
ip dhcp snooping vlan 1
interface Gi1/0
ip dhcp snooping trust
interface Gi0/0
interface Gi0/2
interface Gi0/3
ip dhcp snooping limit rate 10


Для SW3 и SW4 команды будут аналогичны, просто необходимо учитывать, какие именно порты подключаются к клиентам и нужно сделать их недоверенными. 

В конце необходимо сохранить конфигурацию после настройки командой write memory или copy running-config startup-config.
```
------

### Задание 2. 

По топологии из задания 1 необходимо на SW2 настроить ARP Inspection и IP Source guard для Client9 и Client10, подключенных к SW2.
Client9 получает адрес по DHCP, Client10 ip адрес задан статически. DHCP Snooping уже настроен по первому заданию.

*Перечислите список команд, которые необходимо применить на SW2*

# Ответ 
```
Чтобы настроить ARP Inspection и IP Source Guard на коммутаторе SW2 для Client9 и Client10, можно использовать следующие команды:

1. Включаем IP Source Guard на интерфейсах, к которым подключены Client9 и Client10. Нужно знать номера интерфейсов этих клиентов. Допустим, что это интерфейсы Gi0/1 и Gi0/2 соответственно:


conf t
interface Gi0/1
 ip verify source
interface Gi0/2
 ip verify source


2. Чтобы ARP Inspection работал корректно для Client10 с фиксированным IP, необходимо будет добавить статическую ARP-запись, если известен его IP-адрес и MAC-адрес. Предположим, что IP-адрес 192.168.1.10 и MAC-адрес 00AA.BBCC.DD10:

arp access-list STATIC-ARP
permit ip host 192.168.1.10 mac host 00AA.BBCC.DD10
interface Gi0/2
 ip arp inspection trust


3. Включаем Dynamic ARP Inspection на коммутаторе SW2:

ip arp inspection vlan <номер VLAN’а>


Заменить <номер VLAN’а> на номер VLAN, в котором находятся Client9 и Client10.

Эти команды настраивают базовую политику безопасности на уровне L2 коммутатора, обеспечивая защиту от атак, связанных с ARP и подделки источников IP-адресов.
```

### Правила приема домашнего задания

В личном кабинете отправлена ссылка на документ (Google Doc) с выполненным заданием. В документе настроены права доступа “Просматривать могут все в Интернете, у кого есть ссылка”.

### Критерии оценки

Зачет - выполнены все задания, ответы даны в развернутой форме, приложены соответствующие скриншоты и файлы проекта, в выполненных заданиях нет противоречий и нарушения логики.

На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.
